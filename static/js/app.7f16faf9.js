(function(){"use strict";var e={1587:function(e,a,t){var n=t(641),l=t(3751),o=t(810);function r(e,a){const t=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(t)}var i=t(6262);const s={},u=(0,i.A)(s,[["render",r]]);var d=u,c=t(5220);t(4114);const v=(0,o.nY)("game",{state:()=>({difficulty:"easy",boardSize:{rows:8,cols:8},mines:10,leaderboard:JSON.parse(localStorage.getItem("leaderboard"))||[]}),actions:{setDifficulty(e){"easy"===e?(this.boardSize={rows:8,cols:8},this.mines=10):"medium"===e?(this.boardSize={rows:16,cols:16},this.mines=40):"hard"===e&&(this.boardSize={rows:16,cols:32},this.mines=100),this.difficulty=e},addToLeaderboard(e){this.leaderboard.push(e),this.leaderboard.sort(((e,a)=>e.time-a.time)),this.leaderboard=this.leaderboard.slice(0,10),localStorage.setItem("leaderboard",JSON.stringify(this.leaderboard))}}}),f={class:"settings-container"},m={class:"difficulty-options"};var p={__name:"GameSettings",setup(e){const a=v(),t=(0,c.rd)(),l=e=>{a.setDifficulty(e)},o=()=>{t.push("/game")};return(e,a)=>{const t=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",f,[a[4]||(a[4]=(0,n.Lk)("h1",{class:"settings-h1"},"Сапёр",-1)),(0,n.Lk)("div",m,[(0,n.Lk)("button",{onClick:a[0]||(a[0]=e=>l("easy"))},"Простой (8x8, 10 мин)"),(0,n.Lk)("button",{onClick:a[1]||(a[1]=e=>l("medium"))},"Средний (16x16, 40 мин)"),(0,n.Lk)("button",{onClick:a[2]||(a[2]=e=>l("hard"))},"Сложный (32x16, 100 мин)")]),(0,n.Lk)("button",{class:"settings-button",onClick:o},"Начать игру"),(0,n.bF)(t,{to:"/leaderboard"},{default:(0,n.k6)((()=>a[3]||(a[3]=[(0,n.eW)("Таблица лидеров")]))),_:1})])}}};const h=(0,i.A)(p,[["__scopeId","data-v-eb08e63e"]]);var b=h,g=(t(8111),t(2489),t(33)),k=t(953);const M={class:"leaderboard-container"},y={class:"difficulty-tabs"},C=["onClick"],S={key:0};var L={__name:"GameLeaderboard",setup(e){const a=v(),t=(0,k.KR)("easy"),l=(0,n.EW)((()=>a.leaderboard.filter((e=>e.difficulty===t.value)).slice(0,10))),o=e=>{const a={easy:"Простой",medium:"Средний",hard:"Сложный"};return a[e]||e},r=e=>{const a=Math.floor(e/60),t=e%60;return`${a.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`};return(e,a)=>{const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",M,[a[3]||(a[3]=(0,n.Lk)("h1",null,"Таблица лидеров",-1)),(0,n.Lk)("div",y,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(["easy","medium","hard"],(e=>(0,n.Lk)("button",{key:e,onClick:a=>t.value=e,class:(0,g.C4)({active:t.value===e})},(0,g.v_)(o(e)),11,C))),64))]),(0,n.Lk)("table",null,[a[1]||(a[1]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Место"),(0,n.Lk)("th",null,"Имя"),(0,n.Lk)("th",null,"Время"),(0,n.Lk)("th",null,"Дата")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.value,((e,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:a},[(0,n.Lk)("td",null,(0,g.v_)(a+1),1),(0,n.Lk)("td",null,(0,g.v_)(e.name),1),(0,n.Lk)("td",null,(0,g.v_)(r(e.time)),1),(0,n.Lk)("td",null,(0,g.v_)(e.date),1)])))),128)),0===l.value.length?((0,n.uX)(),(0,n.CE)("tr",S,a[0]||(a[0]=[(0,n.Lk)("td",{colspan:"4"},"Нет записей",-1)]))):(0,n.Q3)("",!0)])]),(0,n.bF)(i,{to:"/"},{default:(0,n.k6)((()=>a[2]||(a[2]=[(0,n.eW)("Вернуться к настройкам")]))),_:1})])}}};const E=(0,i.A)(L,[["__scopeId","data-v-2587b486"]]);var w=E;t(1701);const R={class:"timer"};function _(e,a,t,l,o,r){return(0,n.uX)(),(0,n.CE)("div",R,(0,g.v_)(l.formattedTime),1)}var x={props:{isRunning:Boolean},emits:["time-update"],setup(e,{emit:a}){const t=(0,k.KR)(0);let l=null;const o=(0,n.EW)((()=>{const e=Math.floor(t.value/60),a=t.value%60;return`${e.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}));return(0,n.wB)((()=>e.isRunning),(e=>{e?l=setInterval((()=>{t.value++,a("time-update",t.value)}),1e3):clearInterval(l)})),(0,n.hi)((()=>{clearInterval(l)})),{formattedTime:o}}};const z=(0,i.A)(x,[["render",_],["__scopeId","data-v-4dd2ce80"]]);var X=z;const I={class:"game-container"},j={class:"game-header"},O=["onClick","onContextmenu","onMouseup"],$={key:1},K={key:2},F={key:3},T={class:"mines-counter"},A={key:0,class:"game-over"};var D={__name:"GameBoard",setup(e){const a=v(),t=(0,c.rd)(),o=(0,k.KR)([]),r=(0,k.KR)(!1),i=(0,k.KR)(!1),s=(0,k.KR)(!1),u=(0,k.KR)(0),d=(0,k.KR)(0),f=(0,n.EW)((()=>({"grid-template-columns":`repeat(${a.boardSize.cols}, 30px)`,"grid-template-rows":`repeat(${a.boardSize.rows}, 30px)`}))),m=()=>{i.value=!1,s.value=!1,r.value=!1,u.value=a.mines,d.value=0,o.value=Array(a.boardSize.rows).fill().map((()=>Array(a.boardSize.cols).fill().map((()=>({isMine:!1,isRevealed:!1,adjacentMines:0,flag:null})))))},p=(e,t)=>{let n=0;const l=a.boardSize.rows,r=a.boardSize.cols,i=[];for(let a=Math.max(0,e-1);a<=Math.min(l-1,e+1);a++)for(let e=Math.max(0,t-1);e<=Math.min(r-1,t+1);e++)i.push(`${a},${e}`);while(n<a.mines){const e=Math.floor(Math.random()*l),a=Math.floor(Math.random()*r);i.includes(`${e},${a}`)||o.value[e][a].isMine||(o.value[e][a].isMine=!0,n++)}for(let a=0;a<l;a++)for(let e=0;e<r;e++)if(!o.value[a][e].isMine){let t=0;for(let n=Math.max(0,a-1);n<=Math.min(l-1,a+1);n++)for(let a=Math.max(0,e-1);a<=Math.min(r-1,e+1);a++)o.value[n][a].isMine&&t++;o.value[a][e].adjacentMines=t}},h=(e,t)=>{if(i.value||o.value[e][t].isRevealed||"flag"===o.value[e][t].flag)return;if(r.value||(r.value=!0,p(e,t)),o.value[e][t].isMine)return o.value[e][t].isRevealed=!0,S(),i.value=!0,void(r.value=!1);const n=(e,t)=>{if(!(e<0||e>=a.boardSize.rows||t<0||t>=a.boardSize.cols||o.value[e][t].isRevealed||"flag"===o.value[e][t].flag)&&(o.value[e][t].isRevealed=!0,0===o.value[e][t].adjacentMines))for(let l=Math.max(0,e-1);l<=Math.min(a.boardSize.rows-1,e+1);l++)for(let o=Math.max(0,t-1);o<=Math.min(a.boardSize.cols-1,t+1);o++)l===e&&o===t||n(l,o)};n(e,t),C()},b=(e,a)=>{if(i.value||o.value[e][a].isRevealed)return;const t=o.value[e][a];t.flag?"flag"===t.flag?(t.flag="question",u.value++):t.flag=null:(t.flag="flag",u.value--),C()},M=(e,t)=>{if(!o.value[e][t].isRevealed||0===o.value[e][t].adjacentMines)return;const n=o.value[e][t],l=y(e,t);if(l===n.adjacentMines)for(let r=Math.max(0,e-1);r<=Math.min(a.boardSize.rows-1,e+1);r++)for(let n=Math.max(0,t-1);n<=Math.min(a.boardSize.cols-1,t+1);n++)r===e&&n===t||o.value[r][n].flag||h(r,n)},y=(e,t)=>{let n=0;for(let l=Math.max(0,e-1);l<=Math.min(a.boardSize.rows-1,e+1);l++)for(let e=Math.max(0,t-1);e<=Math.min(a.boardSize.cols-1,t+1);e++)"flag"===o.value[l][e].flag&&n++;return n},C=()=>{let e=!0,t=!0;for(let n=0;n<a.boardSize.rows;n++)for(let l=0;l<a.boardSize.cols;l++){const a=o.value[n][l];a.isMine||a.isRevealed||(e=!1),a.isMine&&"flag"!==a.flag&&(t=!1)}(e||t)&&(s.value=!0,i.value=!0,r.value=!1)},S=()=>{for(let e=0;e<a.boardSize.rows;e++)for(let t=0;t<a.boardSize.cols;t++)o.value[e][t].isMine&&(o.value[e][t].isRevealed=!0)},L=e=>{d.value=e},E=()=>{m()},w=()=>{const e=prompt("Введите ваше имя для таблицы лидеров:");e&&(a.addToLeaderboard({name:e,time:d.value,difficulty:a.difficulty,date:(new Date).toLocaleDateString()}),t.push("/leaderboard"))};return(0,n.sV)((()=>{m()})),(e,a)=>{const t=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",I,[(0,n.Lk)("div",j,[(0,n.Lk)("button",{class:"restart-btn",onClick:E},"↻"),(0,n.bF)(X,{isRunning:r.value,onTimeUpdate:L},null,8,["isRunning"]),(0,n.bF)(t,{to:"/"},{default:(0,n.k6)((()=>a[0]||(a[0]=[(0,n.eW)("Настройки")]))),_:1})]),(0,n.Lk)("div",{class:"board",style:(0,g.Tr)(f.value)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.value,((e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:"row"},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:(0,g.C4)(["cell",[e.isRevealed?"revealed":"hidden",e.isMine&&e.isRevealed?"mine":"","flag"===e.flag?"flagged":"","question"===e.flag?"question":""]]),onClick:(0,l.D$)((e=>h(a,t)),["left"]),onContextmenu:(0,l.D$)((e=>b(a,t)),["right","prevent"]),onMouseup:(0,l.D$)((e=>M(a,t)),["middle"])},[e.isRevealed&&e.adjacentMines>0&&!e.isMine?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,g.C4)(`number-${e.adjacentMines}`)},(0,g.v_)(e.adjacentMines),3)):(0,n.Q3)("",!0),e.isMine&&e.isRevealed?((0,n.uX)(),(0,n.CE)("span",$,"💣")):(0,n.Q3)("",!0),"flag"!==e.flag||e.isRevealed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",K,"🚩")),"question"!==e.flag||e.isRevealed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",F,"?"))],42,O)))),128))])))),128))],4),(0,n.Lk)("div",T,(0,g.v_)(u.value),1),i.value?((0,n.uX)(),(0,n.CE)("div",A,[(0,n.Lk)("h2",null,(0,g.v_)(s.value?"Победа!":"Поражение!"),1),(0,n.Lk)("button",{onClick:E},"Играть снова"),(0,n.bF)(t,{to:"/"},{default:(0,n.k6)((()=>a[1]||(a[1]=[(0,n.eW)("Настройки")]))),_:1}),s.value?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:w},"Сохранить результат")):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])}}};const W=(0,i.A)(D,[["__scopeId","data-v-b18f3bc2"]]);var Q=W;const B=[{path:"/",component:b},{path:"/game",component:Q},{path:"/leaderboard",component:w}],q=(0,c.aE)({history:(0,c.Bt)(),routes:B});var G=q;console.log("[VUE] Version:",n.rE);const V=(0,l.Ef)(d),J=document.getElementById("app");if(!J){console.error("Root element #app not found!");const e=document.createElement("div");e.id="app",document.body.appendChild(e)}V.use((0,o.Ey)()),V.use(G),setTimeout((()=>{V.mount("#app"),console.log("App mounted, DOM:",document.getElementById("app").innerHTML)}),100)}},a={};function t(n){var l=a[n];if(void 0!==l)return l.exports;var o=a[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,n,l,o){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],l=e[d][1],o=e[d][2];for(var i=!0,s=0;s<n.length;s++)(!1&o||r>=o)&&Object.keys(t.O).every((function(e){return t.O[e](n[s])}))?n.splice(s--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var u=l();void 0!==u&&(a=u)}}return a}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,l,o]}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var l,o,r=n[0],i=n[1],s=n[2],u=0;if(r.some((function(a){return 0!==e[a]}))){for(l in i)t.o(i,l)&&(t.m[l]=i[l]);if(s)var d=s(t)}for(a&&a(n);u<r.length;u++)o=r[u],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},n=self["webpackChunkminesweeper"]=self["webpackChunkminesweeper"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(1587)}));n=t.O(n)})();
//# sourceMappingURL=app.7f16faf9.js.map